/*
SQLyog Ultimate v8.32 
MySQL - 5.5.28 : Database - bookstore
*********************************************************************
*/

/*!40101 SET NAMES utf8 */;

/*!40101 SET SQL_MODE=''*/;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
CREATE DATABASE /*!32312 IF NOT EXISTS*/`bookstore` /*!40100 DEFAULT CHARACTER SET gbk */;

USE `bookstore`;

/*Table structure for table `book` */

DROP TABLE IF EXISTS `book`;

CREATE TABLE `book` (
  `bid` char(32) NOT NULL,
  `bname` varchar(100) DEFAULT NULL,
  `price` decimal(5,1) DEFAULT NULL,
  `author` varchar(20) DEFAULT NULL,
  `image` varchar(200) DEFAULT NULL,
  `cid` char(32) DEFAULT NULL,
  `del` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`bid`),
  KEY `cid` (`cid`),
  CONSTRAINT `book_ibfk_1` FOREIGN KEY (`cid`) REFERENCES `category` (`cid`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk;

/*Data for the table `book` */

insert  into `book`(`bid`,`bname`,`price`,`author`,`image`,`cid`,`del`) values ('1','Java编程思想（第4版）','75.6','qdmmy6','book_img/9317290-1_l.jpg','1',0),('2','Java核心技术卷1','68.5','qdmmy6','book_img/20285763-1_l.jpg','1',0),('3','Java就业培训教程','39.9','张孝祥','book_img/8758723-1_l.jpg','1',0),('4','Head First java','47.5','（美）塞若','book_img/9265169-1_l.jpg','1',0),('5','JavaWeb开发详解','83.3','孙鑫','book_img/22788412-1_l.jpg','2',0),('6','Struts2深入详解','63.2','孙鑫','book_img/20385925-1_l.jpg','2',0),('7','精通Hibernate','30.0','孙卫琴','book_img/8991366-1_l.jpg','2',0),('8','精通Spring2.x','63.2','陈华雄','book_img/20029394-1_l.jpg','2',0),('9','Javascript权威指南','93.6','（美）弗兰纳根','book_img/22722790-1_l.jpg','3',0),('C51FE1AF810140968F3CD879C1326031',' Android从入门到精通','67.5','张琪','book_img/3/7/962542A2BDD74D92B4F307376E4A556F_android.jpg',NULL,1),('F73DD3E672D045B7A6BF52F44A97BB82','网站运营','56.8','Tom','book_img/5/4/A45E66193D794E8A961069D477EE5CBF_wzyy.jpg','1',1),('FEA0959A6FA340D69D16D5A92C15E461','Android入门到精通','65.9','张孝祥','book_img/3/7/C26E97720A6340C2A1C4FF1B30341B47_android.jpg','3996B978722C4631A98796431120EC54',1);

/*Table structure for table `category` */

DROP TABLE IF EXISTS `category`;

CREATE TABLE `category` (
  `cid` char(32) NOT NULL,
  `cname` varchar(100) NOT NULL,
  PRIMARY KEY (`cid`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk;

/*Data for the table `category` */

insert  into `category`(`cid`,`cname`) values ('1','JavaSE'),('2','JavaEE'),('3','Javascript'),('3996B978722C4631A98796431120EC54','Andr'),('9F02FE266DE2487DB9D071813C7496E7','nnn');

/*Table structure for table `orderitem` */

DROP TABLE IF EXISTS `orderitem`;

CREATE TABLE `orderitem` (
  `iid` char(32) NOT NULL,
  `count` int(11) DEFAULT NULL,
  `total` decimal(10,2) DEFAULT NULL,
  `oid` char(32) DEFAULT NULL,
  `bid` char(32) DEFAULT NULL,
  PRIMARY KEY (`iid`),
  KEY `oid` (`oid`),
  KEY `bid` (`bid`),
  CONSTRAINT `orderitem_ibfk_1` FOREIGN KEY (`oid`) REFERENCES `orders` (`oid`),
  CONSTRAINT `orderitem_ibfk_2` FOREIGN KEY (`bid`) REFERENCES `book` (`bid`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk;

/*Data for the table `orderitem` */

insert  into `orderitem`(`iid`,`count`,`total`,`oid`,`bid`) values ('3A1EF8F8CF5442E68A8F96489F2E7BBE',1,'75.60','ACA0B311450A4E3CBCEA23B3BA07172E','1'),('4EB30065331E4F489831CE4C5C206ACD',1,'93.60','CED69B19D6AC412FBC3CB7EC0C61B114','9'),('5111CDAF77134D60B2D98413D7EA1CBD',1,'39.90','A59C287D539E4A68B722916444E92933','3'),('69A2CF87B70D4A7385986992F88DC618',1,'75.60','88E19D254FA24032B77278C69AFF0B77','1'),('8159DF0293434D508CFF13E1033BCF14',1,'75.60','D8CA047641CA4FB4895564C234DA7966','1'),('8616984519CB4433907C3457F709520D',1,'83.30','1855ACDF99F94C70BB96C21FCFDF5A26','5'),('934931FD967A40F58395ADE6EA1428E9',1,'93.60','726DB99EFD444AC7AD44756FE2172093','9'),('9D4EE2092FD74019B545FB456A983AA7',1,'68.50','1855ACDF99F94C70BB96C21FCFDF5A26','2'),('9D824E3946994C27A50172F2E067EB10',1,'68.50','726DB99EFD444AC7AD44756FE2172093','2'),('A39092C96FFD4C258158788F3D10E6D0',1,'75.60','CED69B19D6AC412FBC3CB7EC0C61B114','1'),('B2B2D0F10A734080B56D8F8D5793A992',1,'75.60','9DFCD05C7DD543E9A3F93FA72DEBADAF','1'),('C1E29C53798E4B0DB872F09D9D4FC820',1,'75.60','30D521C127D146F2B31DFAC78C5309DB','1');

/*Table structure for table `orders` */

DROP TABLE IF EXISTS `orders`;

CREATE TABLE `orders` (
  `oid` char(32) NOT NULL,
  `ordertime` datetime DEFAULT NULL,
  `total` decimal(10,2) DEFAULT NULL,
  `state` smallint(1) DEFAULT NULL,
  `uid` char(32) DEFAULT NULL,
  `address` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`oid`),
  KEY `uid` (`uid`),
  CONSTRAINT `orders_ibfk_1` FOREIGN KEY (`uid`) REFERENCES `tb_user` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk;

/*Data for the table `orders` */

insert  into `orders`(`oid`,`ordertime`,`total`,`state`,`uid`,`address`) values ('1855ACDF99F94C70BB96C21FCFDF5A26','2015-03-18 09:29:45','151.80',1,'F298E57D54FE44E49F912770F5A835F4',NULL),('30D521C127D146F2B31DFAC78C5309DB','2015-03-17 14:21:40','75.60',2,'F298E57D54FE44E49F912770F5A835F4',NULL),('726DB99EFD444AC7AD44756FE2172093','2015-03-18 13:58:58','162.10',1,'F298E57D54FE44E49F912770F5A835F4',NULL),('88E19D254FA24032B77278C69AFF0B77','2015-03-17 14:15:53','75.60',1,'F298E57D54FE44E49F912770F5A835F4',NULL),('9DFCD05C7DD543E9A3F93FA72DEBADAF','2015-03-19 15:25:44','75.60',1,'F298E57D54FE44E49F912770F5A835F4',NULL),('A59C287D539E4A68B722916444E92933','2015-03-17 14:22:53','39.90',4,'F298E57D54FE44E49F912770F5A835F4',NULL),('ACA0B311450A4E3CBCEA23B3BA07172E','2015-03-18 15:12:45','75.60',1,'F298E57D54FE44E49F912770F5A835F4',NULL),('CED69B19D6AC412FBC3CB7EC0C61B114','2015-03-20 08:41:51','169.20',1,'F298E57D54FE44E49F912770F5A835F4',NULL),('D8CA047641CA4FB4895564C234DA7966','2015-03-17 14:19:03','75.60',1,'F298E57D54FE44E49F912770F5A835F4',NULL);

/*Table structure for table `tb_user` */

DROP TABLE IF EXISTS `tb_user`;

CREATE TABLE `tb_user` (
  `uid` char(32) NOT NULL,
  `username` varchar(50) NOT NULL,
  `password` varchar(50) NOT NULL,
  `email` varchar(50) NOT NULL,
  `code` char(64) NOT NULL,
  `state` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk;

/*Data for the table `tb_user` */

insert  into `tb_user`(`uid`,`username`,`password`,`email`,`code`,`state`) values ('F298E57D54FE44E49F912770F5A835F4','wanghao','wh6532140','wanghaotime@qq.com','3CC6E44862614A8AB7DAB5F894AE4BFC5E1B63FC53244417B3B2744666CE2DF3',1),('F91CEEBDDB0D463E9CAF58D8CA01E9D6','wang','wh6532140','1125697851@qq.com','6BA3E8AD3778457EABE855D64078447395648C9B052E44208AB0484E6EAE33CD',0);

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
